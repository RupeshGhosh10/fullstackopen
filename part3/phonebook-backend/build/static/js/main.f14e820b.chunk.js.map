{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/phoneNumbers.js","App.js","index.js"],"names":["Filter","handleFilter","onChange","PersonForm","handleNameChange","newName","handleNumberChange","newNumber","saveName","value","type","onClick","Persons","persons","personFilter","deleteName","filter","map","person","name","number","id","Notification","message","length","className","baseUrl","axios","get","then","response","data","phoneNumberObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","notificationMessage","setNotificationMessage","useEffect","services","e","target","preventDefault","find","x","window","confirm","newPerson","catch","error","setTimeout","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f14e820b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ handleFilter }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={handleFilter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({ handleNameChange, newName, handleNumberChange, newNumber, saveName }) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        name: <input onChange={handleNameChange} value={newName} />\r\n      </div>\r\n      <div>\r\n        number: <input onChange={handleNumberChange} value={newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\" onClick={saveName}>\r\n          add\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Persons = ({ persons, personFilter, deleteName }) => {\r\n  return (\r\n    <div>\r\n      {persons.filter(personFilter).map(person => (\r\n        <div key={person.id}>\r\n          {person.name} {person.number} <button onClick={() => deleteName(person.id)}>delete</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message[0].length === 0) return null;\r\n\r\n  return <div className={message[1]}>{message[0]}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => {\r\n    return response.data;\r\n  });\r\n};\r\n\r\nconst save = phoneNumberObject => {\r\n  const request = axios.post(baseUrl, phoneNumberObject);\r\n  return request.then(response => {\r\n    return response.data;\r\n  });\r\n};\r\n\r\nconst update = (id, phoneNumberObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, phoneNumberObject);\r\n  return request.then(response => {\r\n    return response.data;\r\n  });\r\n};\r\n\r\nconst deleteNumber = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => {\r\n    return response.data;\r\n  });\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  save,\r\n  update,\r\n  deleteNumber\r\n};\r\n","import React, { useEffect, useState } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport services from './services/phoneNumbers';\nimport './css/style.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(['', '']);\n\n  const handleNameChange = e => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = e => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleFilter = e => {\n    setFilter(e.target.value);\n  };\n\n  useEffect(() => {\n    services.getAll().then(data => {\n      setPersons(data);\n    });\n  }, []);\n\n  const saveName = e => {\n    e.preventDefault();\n\n    const person = persons.find(x => x.name === newName);\n\n    if (person) {\n      if (\n        window.confirm(\n          `${person.name} is already added to phonebook, replace the old numbee with new one?`\n        )\n      ) {\n        let newPerson = {\n          name: person.name,\n          number: newNumber\n        };\n        services\n          .update(person.id, newPerson)\n          .then(data => {\n            setPersons(\n              persons.map(person => (person.id === data.id ? data : person))\n            );\n          })\n          .catch(error => {\n            setNotificationMessage([`${error.response.data.error}`, 'error']);\n          });\n      }\n    } else {\n      let newPerson = {\n        name: newName,\n        number: newNumber\n      };\n\n      services\n        .save(newPerson)\n        .then(data => {\n          setPersons([...persons, data]);\n          setNotificationMessage([`Added ${newPerson.name}`, 'success']);\n        })\n        .catch(error => {\n          setNotificationMessage([`${error.response.data.error}`, 'error']);\n        });\n    }\n\n    setTimeout(() => {\n      setNotificationMessage(['', '']);\n    }, 3000);\n\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const deleteName = id => {\n    const name = persons.find(person => person.id === id).name;\n    if (window.confirm(`Delete ${name} ?`)) {\n      services.deleteNumber(id).then(data => {\n        setPersons(persons.filter(person => person.id !== id));\n      });\n    }\n  };\n\n  const personFilter = person =>\n    person.name.toLowerCase().includes(filter.toLowerCase());\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <Filter handleFilter={handleFilter} />\n      <h2>add a new</h2>\n      <PersonForm\n        handleNameChange={handleNameChange}\n        newName={newName}\n        handleNumberChange={handleNumberChange}\n        newNumber={newNumber}\n        saveName={saveName}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        personFilter={personFilter}\n        deleteName={deleteName}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}