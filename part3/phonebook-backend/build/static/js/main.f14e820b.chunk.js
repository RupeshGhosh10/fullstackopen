(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(1),r=t(16),a=t.n(r),o=t(17),i=t(3),u=t(0),s=function(e){var n=e.handleFilter;return Object(u.jsxs)("div",{children:["filter shown with ",Object(u.jsx)("input",{onChange:n})]})},d=function(e){var n=e.handleNameChange,t=e.newName,c=e.handleNumberChange,r=e.newNumber,a=e.saveName;return Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{onChange:n,value:t})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{onChange:c,value:r})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",onClick:a,children:"add"})})]})},j=function(e){var n=e.persons,t=e.personFilter,c=e.deleteName;return Object(u.jsx)("div",{children:n.filter(t).map((function(e){return Object(u.jsxs)("div",{children:[e.name," ",e.number," ",Object(u.jsx)("button",{onClick:function(){return c(e.id)},children:"delete"})]},e.id)}))})},b=function(e){var n=e.message;return 0===n[0].length?null:Object(u.jsx)("div",{className:n[1],children:n[0]})},h=t(5),l=t.n(h),f="/api/persons",m=function(){return l.a.get(f).then((function(e){return e.data}))},O=function(e){return l.a.post(f,e).then((function(e){return e.data}))},p=function(e,n){return l.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},v=function(e){return l.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},x=(t(41),function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],a=Object(c.useState)(""),h=Object(i.a)(a,2),l=h[0],f=h[1],x=Object(c.useState)(""),w=Object(i.a)(x,2),g=w[0],N=w[1],C=Object(c.useState)(""),k=Object(i.a)(C,2),S=k[0],F=k[1],y=Object(c.useState)(["",""]),D=Object(i.a)(y,2),E=D[0],J=D[1];Object(c.useEffect)((function(){m().then((function(e){r(e)}))}),[]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(b,{message:E}),Object(u.jsx)(s,{handleFilter:function(e){F(e.target.value)}}),Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsx)(d,{handleNameChange:function(e){f(e.target.value)},newName:l,handleNumberChange:function(e){N(e.target.value)},newNumber:g,saveName:function(e){e.preventDefault();var n=t.find((function(e){return e.name===l}));if(n){if(window.confirm("".concat(n.name," is already added to phonebook, replace the old numbee with new one?"))){var c={name:n.name,number:g};p(n.id,c).then((function(e){r(t.map((function(n){return n.id===e.id?e:n})))})).catch((function(e){J(["".concat(e.response.data.error),"error"])}))}}else{var a={name:l,number:g};O(a).then((function(e){r([].concat(Object(o.a)(t),[e])),J(["Added ".concat(a.name),"success"])})).catch((function(e){J(["".concat(e.response.data.error),"error"])}))}setTimeout((function(){J(["",""])}),3e3),f(""),N("")}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(j,{persons:t,personFilter:function(e){return e.name.toLowerCase().includes(S.toLowerCase())},deleteName:function(e){var n=t.find((function(n){return n.id===e})).name;window.confirm("Delete ".concat(n," ?"))&&v(e).then((function(n){r(t.filter((function(n){return n.id!==e})))}))}})]})});a.a.render(Object(u.jsx)(x,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.f14e820b.chunk.js.map